/**
 ****************************************************************************
 * @file    main.ino
 * @author  Mahmoud Karam (ma.karam272@gmail.com)
 * @brief   Check Functionality of Dual DC motor driver
 * @version 0.1
 * @date    2021-08-14
 * @details This example shows how to drive two motors using the PWM and DIR pins.
 *          This is done using dual channel motor driver, both channel work the same way.
 * CONNECTIONS: Arduino D11 <--> Left Motor Driver PWM Input
 *              Arduino D10 <--> Right Motor Driver PWM Input
 *              Arduino D6  <--> Left Motor Driver DIR Input 1
 *              Arduino D7  <--> Left Motor Driver DIR Input 2
 *              Arduino D4  <--> Right Motor Driver DIR Input 1
 *              Arduino D3  <--> Right Motor Driver DIR Input 2
 *              Arduino GND <--> Motor Driver GND
 * @note    Motors connections can be found in DUAL_MOTOR_cfg.ino
 * ***************************************************************************
 */
#include "include/STD_TYPES.h"
#include "include/DUAL_MOTOR.h"

void setup()
{
    /* Initializations      */
    DUAL_MOTOR_init();
}

void loop(){
    u8 idx = 0;

    /* Accelerate forward from 0 to 100% in 3 Seconds   */
    for (idx = 0; idx <= 100; idx++){
        /* Rotate Robot Forward with full speed (100%)  */
        DUAL_MOTOR_rotate(DUAL_MOTOR0, DUAL_MOTOR_FWD  , idx );
        delay(30);
    }

    /* Accelerate backward from 0 to 100% in 3 Seconds   */
    for (idx = 0; idx <= 100; idx++){
        /* Rotate Robot Forward with full speed (100%)  */
        DUAL_MOTOR_rotate(DUAL_MOTOR0, DUAL_MOTOR_BACK  , idx );
        delay(30);
    }


}
            